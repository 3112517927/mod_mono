2004-05-14  Gonzalo Paniagua Javier <gonzalo@ximian.com>

	* src/mod_mono.c: patch by Christopher McGinnis
	<christopherm@neopets.com> that adds MonoDocumentRootDir directive which
	maps to --root argument for mod-mono-server.

	* man/mod_mono.8: updated manual page.

2004-04-19  Gonzalo Paniagua Javier <gonzalo@ximian.com>

	* NEWS:
	* man/.cvsignore:
	* src/.cvsignore: updated.
	
	* src/Makefile.am:
	* src/mod_mono.c: the default prefix is the one set with --prefix, not
	/usr always.

2004-04-16  Gonzalo Paniagua Javier <gonzalo@ximian.com>

	* INSTALL: small update on PathInfo.
	* man/mod_mono.8: documented.

2004-04-15  Gonzalo Paniagua Javier <gonzalo@ximian.com>

	* INSTALL: updated with new configuration information.

2004-04-15  Gonzalo Paniagua Javier <gonzalo@ximian.com>

	* Makefile.am: added 'man' directory.
	* autogen.sh: fixlet.
	* configure.in: attempt to make 1.3/2.0 detection fool-proof.

	* src/mod_mono.c: added the ability to spawn mod-mono-server if the
	named pipe is not there or is refusing connections. Added new
	configuration directives that control whether we want to spawn
	mod-mono-server, paths, applications...

	* man/.cvsignore:
	* man/Makefile.am:
	* man/mod_mono.8: empty man page (by now :).

2004-04-13  Gonzalo Paniagua Javier <gonzalo@ximian.com>

	* configure.in: substitute APXS and small fix for TRY_COMPILE.

2004-04-08  Gonzalo Paniagua Javier <gonzalo@ximian.com>

	* NEWS: updated.
	* INSTALL: details on the *NEW* setup for mod_mono. Existing
	installations will break. Added sample configurations.

	* autogen.sh: check for error when running autoheader.
	* configure.in: created a new conditional (APACHE2) and added a new
	AC_DEFINE with the same name so that mod_mono_config.h is updated if
	we change the target apache version and the sources are recompiled.

	* src/Makefile.am: use apxs to install the modules. It adds the
	LoadModule line automatically to the apache configuration file.

	* src/mod_mono.c: added some debug help. The request is accepted based
	on the handler name, not the content type.

2004-03-30  Gonzalo Paniagua Javier <gonzalo@ximian.com>

	* NEWS: old stuff here.
	* src/Makefile.am: don't add libmod_mono_old.la to lib_LTLIBRARIES when
	we're not building mod_mono_old.

2004-02-12  Gonzalo Paniagua Javier <gonzalo@ximian.com>

	* configure.in: fixed issues detecting the right version of apache in
	debian.

2003-12-10  Gonzalo Paniagua Javier <gonzalo@ximian.com>

	* src/mod_mono.c: make query string work. mod_rewrite for apache 1.3
	and 2.0 uses ->args instead of parsed_uri.

2003-12-10  Gonzalo Paniagua Javier <gonzalo@ximian.com>

	* configure.in: use single quotes inside AC_ARG_WITH. Moved apache 1.3
	CFLAGS modification to a better place.
	
	* src/Makefile.am: use $(top_builddir) instead of @top_builddir@.
	Thanks to Benjamin Jemlich and Mark Crichton.

2003-11-27  Gonzalo Paniagua Javier <gonzalo@ximian.com>

	* configure.in: fixed 1.3/2.0 detection + apr-config

2003-11-25  Gonzalo Paniagua Javier <gonzalo@ximian.com>

	* configure.in:
	* src/Makefile.am: made compilation of mod_mono_old optional and
	disabled by default. You need --enable-old-module to build it.

2003-11-20  Gonzalo Paniagua Javier <gonzalo@ximian.com>

	* src/mod_mono.c: return a 503 (Temporarily Unavailable) when the unix
	socket is not set up.

2003-11-18  Gonzalo Paniagua Javier <gonzalo@ximian.com>

	* src/mod_mono.c: return 0 if OK for setup_client_block.

2003-11-17  Duncan Mak  <duncan@ximian.com>

	* src/Makefile.am (install): Fix install target.
	
2003-11-15  Gonzalo Paniagua Javier <gonzalo@ximian.com>

	* configure.in: be smarter about apr-config.

2003-10-20  Gonzalo Paniagua Javier <gonzalo@ximian.com>

	* configure.in: added --with-apr-config useful for systems such as
	debian that installs apr headers in a different directory from the
	apache headers.

2003-10-04  Pedro Martínez Juliá  <yoros@wanadoo.es>

	* src/mod_mono.c: added a loop when reading from the socket, it
	needs to read "l" bytes and "read" is getting "count" bytes.

2003-10-03  Gonzalo Paniagua Javier <gonzalo@ximian.com>

	* src/mod_mono.c: added more error checks and write basic request data
	upon connection.

2003-10-02  Gonzalo Paniagua Javier <gonzalo@ximian.com>

	* FAQ.txt: moved...
	* FAQ-old.txt: ...here.
	* INSTALL: only include installation instructions for mod_mono.
	* INSTALL-old: this contains instructions for mod_mono_old
	* NEWS: updated.
	* README: updated.
	* configure.in: Modified file.
	* src/Makefile.am: Modified file.
	* src/mod_mono.c: moved to mod_mono_old.c
	* src/mod_mono_old.c:
	* src/mod_mono_unix.c: moved to mod_mono.

	Renamed mod_mono to mod_mono_old and mod_mono_unix to mod_mono.

2003-09-20  Pedro Martínez Juliá  <yoros@wanadoo.es>

	* INSTALL: Remove the doc lines related to <Location> directive
	because they are not needed since the last change.

2003-09-19  Gonzalo Paniagua Javier <gonzalo@ximian.com>

	* configure.in: set version to 0.4.99.
	* src/mod_mono_unix.c: ap_log_error is different in 1.3 and 2.0. Fixed.
	It really works now for apache 1.3: send the headers, handle
	ap_log_error difference between 1.3 and 2.0, set the mime type for the
	handler.

2003-09-19  Pedro Martínez Juliá  <yoros@wanadoo.es>

	* doc/mod_mono.xml: Add a few lines explaining how to get working
	mod_mono_unix.

	* INSTALL: Talk about <Location> directive for apache to handle
	right asp.net pages.


2003-09-19  Pedro Martínez Juliá  <yoros@wanadoo.es>

	* src/mod_mono_unix.c: Added #ifdef for adapt all the module to
	apache 1.3.x. Now it loads and works right.

	* configure.in: Added -DEAPI needed for apache 1.3.x.

2003-09-18  Gonzalo Paniagua Javier <gonzalo@ximian.com>

	* src/mod_mono_unix.c: don't loop forever if mod-mono-server is
	disconnected. content_type can be NULL.

2003-09-18  Gonzalo Paniagua Javier <gonzalo@ximian.com>

	* INSTALL: tell about AddType and Alias for mod_mono_unix.
	* NEWS: updated.
	* src/mod_mono_unix.c: check that the content type is
	application/x-asp-net before trying to process the request and log
	connection failures to mod-mono-server as debug.

2003-08-25  Gonzalo Paniagua Javier <gonzalo@ximian.com>

	* INSTALL: updated. MonoApplicationUnix now only takes 1 argument.
	* src/mod_mono_unix.c: removed alias matching code, added new
	DECLINE_REQUEST command and take only 1 argument, the unix socket
	file name. From now on, it lets mod-mono-server to choose if the request
	is processed or declined based on the applications configured.

2003-08-12  Gonzalo Paniagua Javier <gonzalo@ximian.com>

	* configure.in: fixed apache version detection. It was looking for
	"-I/some/directory/apr.h", then failed and default to 1.3.

2003-08-10  Daniel Lopez Ridruejo <daniel @ rawbyte.com>
	* doc/modmono.xml: DocBook documentation
	* src/mod_mono.c: ifde-ed out code since it only supports Apache 2 currently
	* src/Makefile.am: consistent naming
	
2003-08-04  Daniel Lopez Ridruejo <daniel @ rawbyte.com>
	* configure.in: 
	* src/mod_mono_unix.c: Port to Apache 1.3

2003-08-01  Gonzalo Paniagua Javier <gonzalo@ximian.com>

	* src/Makefile.am: added mod_mono_unix.
	* src/mod_mono_unix.c: New module that communicates with an external
	process through a unix socket.

	* INSTALL: updated.

2003-04-12  Miguel de Icaza  <miguel@ximian.com>

	* src/mod_mono.c (create_application_host): Add call to
	mono_config_parse to load the default configuration file.  Maybe
	this should also be exposed to the Apache configuration file. 

2003-04-11  Gonzalo Paniagua Javier <gonzalo@ximian.com>

	* src/ApacheWorkerRequest.cs: fixed compilation.

2003-03-27  Gonzalo Paniagua Javier <gonzalo@ximian.com>

	* src/MonoWorkerRequest.cs: added a MapPathEvent that is fired before
	doing the normal MapPath stuff and can provide alternate mappings.

2003-03-11  Daniel Lopez Ridruejo <daniel @ rawbyte.com>
	* src/Request.cs: We need to check for length returned equal to 0 in alias_matches
	* src/mod_mono.c: fixed bug when matching prefix that made mod_mono handle all pages even those
	outside MonoApplication scope. Also fixed the way alias_matches is exposed to Request
	* FAQ.txt: Added some answers about Apache 1.3 and how to use proxypass
	* packaging/redhat/mod_mono.spec: Update to 0.3.6
	
2003-02-25  Daniel Lopez Ridruejo <daniel @ rawbyte.com>
	Bring it up to date with Mono 0.20
	* src/mod_mono.c: added mono_thread_attach (thanks Dick). Return NULL if header not found.
	* src/ApacheApplicationHost.cs: Add an internal method so the call will
	be made in the right domain, as suggested by Dietmar. This can be done from C, but was added after 
	Mono 0.20. It also required a serialization constructor for IntPtr that Gonzalo promptly added, thanks!
	* packaging/redhat/mod_mono.spec: Update for latest versions
	
2003-02-17  Gonzalo Paniagua Javier <gonzalo@ximian.com>

	* src/MonoWorkerRequest.cs: updated from xsp.

2003-02-06  Gonzalo Paniagua Javier <gonzalo@ximian.com>

	* src/MonoWorkerRequest.cs: fixed buglet in GetAppPath.

2003-02-04  Daniel Lopez Ridruejo <daniel @ rawbyte.com>
	* Makefile.am: Add rpm spec files to packaging
	
2003-02-03  Daniel Lopez Ridruejo <daniel @ rawbyte.com>
	* packaging/redhat: Added mod_mono.spec and mono.conf for RPM generation, thanks to David Hollis <dhollis@davehollis.com> for submitting it.
	
2003-02-02  Daniel Lopez Ridruejo <daniel @ rawbyte.com>
	* src/mod_mono.c: Fixed returning null value when no query string is present. Thanks to "Ula? VURAL" <uvural@netorbits.com> and Geo <_geo@post.sk> for reporting this.
	
2003-01-22  Daniel Lopez Ridruejo <daniel @ rawbyte.com>
	* INSTALL: Some typos and step by step instructions for Red Hat 8.0
	* README: Removed reference to POST not working
	* FAQ.txt: Added doc with more common problems people find installing mod_mono
	* Makefile.am: Added FAQ.txt to the dist files
	
2003-01-18  Daniel Lopez Ridruejo <daniel @ rawbyte.com>
	* INSTALL: Updated install instructions to cover --with-apxs
	* configure.in: Check in /usr/sbin/apxs
	* src/mod_mono.c: Expose function to help remove prefix
	* src/Request.cs: RemovePrefix helper function to remove app virtual path
	before using MapPath
	* src/ApacheWorkerRequest.cs: MS docs seem to be wrong and GetFilePath returns uri path
	
2003-01-18  Daniel Lopez Ridruejo <daniel @ rawbyte.com>
	Submitted by Alp Toker <alp@atoker.com> :
	* configure.in: Use --with-apxs instead of --with-apache2 
	* src/Makefile.am: Install target

2003-01-14  Gonzalo Paniagua Javier <gonzalo@ximian.com>
	* src/ApacheWorkerRequest.cs: added FIXME.
	* src/MonoWorkerRequest.cs: synched with the one in xsp.

2003-01-09  Daniel Lopez Ridruejo <daniel @ rawbyte.com>
	* mcs/ApacheWorkerRequest.cs : Fixed typo, thanks Sergio Luis Valle Mayorga for catching it

2003-01-07  Daniel Lopez Ridruejo <daniel @ rawbyte.com>
	* INSTALL: Add new config instructions. Only a MonoApplication directive is needed right now
	* src/mod_mono.c: Get rid of LoadModMonoDll, per Miguel suggestion, we look for the assembly
	in the assembly path now. Add MonoApplication directive, this simplies compfiguration greatly.
	* src/Makefile.am : makedll.mak was not being included in the distribution
	* src/ApacheWorkerRequest.cs : Do nothing with Content-Length, it will be set by Apache
	
2003-01-06  Daniel Lopez Ridruejo <daniel @ rawbyte.com>
	* src/mod_mono.c: Added setter macros and allow setting status
	line and status code. Set r->content_type when Content-Type is set
	* src/Request.cs: Added SetStatusLine and SetStatusCode
	* src/ApacheWorkerRequest.cs: Added SendStatus
	
2003-01-03  Daniel Lopez Ridruejo <daniel @ rawbyte.com>
	* src/mod_mono.c: Added support functions for reading HTTP bodies,
	this enables POST support:
	mono_apache_should_client_block,
	mono_apache_setup_client_block,
	mono_apache_get_client_block
	* src/ApacheWorkerRequest : Added ReadEntityBody
	* src/Request : Added ShouldClientBlock, SetupClientBlock, GetClientBlock
	for reading HTTP bodies and enabling POST support

2002-12-31  Daniel Lopez Ridruejo <daniel @ rawbyte.com>
	* INSTALL: Added reference to machine.config
	* configure.in: Update version to 0.2
	* src/Makefile.am: Fix typo so 'make dist' works

2002-12-30  Daniel Lopez Ridruejo <daniel @ rawbyte.com>
	* src/mod_mono.c: Fix ApacheApplicationHost creation:
	Method signature uses intptr and method to invoke is static.
	Pass request to ProcessRequest()	
	* src/ApacheWorkerRequest.cs: Add GetFilePathTranslated, since
	is not mapping correctly in MonoWorkerRequest

2002-12-30  Gonzalo Paniagua Javier <gonzalo@ximian.com>

	* AUTHORS: added myself.
	* INSTALL: changed instructions on how to build ModMono.dll.
	* src/IApplicationHost.cs: interface to be implemented by asp.net
	application hosts.
	* src/MonoWorkerRequest.cs: base class that will be shared between
	mod_mono and xsp server.
	* src/Request.cs: merged previous Connection and Request classes. Made
	all methods non-static. Store results from calling internal calls in
	private fields.
	* src/ApacheApplicationHost.cs: application host for mod_mono.
	* src/ApacheWorkerRequest.cs: it derives now from MonoWorkerRequest.

	* src/mod_mono.c: it now creates an ApacheApplicationHost and then call
	ProcessRequest on every request.

	* src/Makefile.am: added MONO_CFLAGS and new source files.
	* src/makedll.mak: use this to build ModMono.dll.

	* src/ModMono.cs: Removed file. It's been splitted.

2002-12-14  Daniel Lopez Ridruejo <daniel @ rawbyte.com>
	
	* Initial release
	

